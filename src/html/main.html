<main class="container my-2">
    <!-- Optional: Info Panel or Additional Guidance -->
    <div class="alert alert-info small-text">
        <i class="bi bi-info-circle-fill me-2"></i>
        <strong>Note:</strong> In production, never hard-code sensitive credentials (API key, password,
        etc.). Use a secure server-side integration or environment variables to manage secrets safely.
    </div>

    <!-- Row: Form Inputs + Action -->
    <div class="row equal-height">
        <!-- Left Column: Configuration Form -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="bi bi-gear-fill me-2"></i>Plugin Configuration</h5>
                    <button class="browse-btn-icon" id="browseConfigBtn" title="Browse Configuration"
                        aria-label="Browse configuration" data-bs-toggle="tooltip" data-bs-placement="top">
                        <i class="bi bi-folder2-open"></i>
                    </button>
                </div>
                <div class="card-body">
                    <!-- API Endpoint -->
                    <div class="form-floating mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-globe"></i></span>
                            <div class="form-floating flex-grow-1 position-relative">
                                <input type="text" class="form-control border-start-0 pe-5" id="urlPreview"
                                    placeholder="API Endpoint" value="https://payuat.travelpay.com.au/online/v5"
                                    readonly />
                                <label for="urlPreview">API Endpoint</label>
                                <button
                                    class="btn btn-link position-absolute end-0 top-50 translate-middle-y text-secondary"
                                    type="button" data-bs-toggle="modal" data-bs-target="#urlBuilderModal"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="Configure API endpoint">
                                    <i class="bi bi-gear-fill"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Mode Selector (moved from Credentials tab) -->
                    <div class="form-floating mb-3">
                        <div class="input-group">
                            <span class="input-group-text"><i class="bi bi-gear-fill"></i></span>
                            <div class="form-floating flex-grow-1">
                                <select class="form-select border-start-0" id="modeSelect">
                                    <option value="0">Payment Mode (0)</option>
                                    <option value="1">Tokenization Mode (1)</option>
                                    <option value="2">Custom Payment Mode (2)</option>
                                    <option value="3">PreAuth Mode (3)</option>
                                </select>
                                <label for="modeSelect">Payment Mode</label>
                            </div>
                            <button class="btn btn-outline-secondary payment-mode-info" type="button"
                                data-bs-toggle="tooltip" data-bs-placement="top"
                                title="Select the payment processing mode">
                                <i class="bi bi-info-circle"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Main Configuration Tabs -->
                    <ul class="nav nav-tabs" id="mainConfigTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="credentials-tab" data-bs-toggle="tab"
                                data-bs-target="#credentials" type="button" role="tab" aria-controls="credentials"
                                aria-selected="true">
                                <i class="bi bi-key me-1"></i>Credentials
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="extended-tab" data-bs-toggle="tab" data-bs-target="#extended"
                                type="button" role="tab" aria-controls="extended" aria-selected="false">
                                <i class="bi bi-gear-wide-connected me-1"></i>Extended
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="payment-methods-tab" data-bs-toggle="tab"
                                data-bs-target="#payment-methods" type="button" role="tab"
                                aria-controls="payment-methods" aria-selected="false">
                                <i class="bi bi-credit-card me-1"></i>Payment
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="additional-options-tab" data-bs-toggle="tab"
                                data-bs-target="#additional-options" type="button" role="tab"
                                aria-controls="additional-options" aria-selected="false">
                                <i class="bi bi-sliders me-1"></i>Options
                            </button>
                        </li>
                    </ul>

                    <div class="tab-content p-3 border border-top-0 rounded-bottom" id="mainConfigTabsContent">
                        <!-- Credentials Tab -->
                        <div class="tab-pane fade show active" id="credentials" role="tabpanel"
                            aria-labelledby="credentials-tab">
                            <!-- API Key -->
                            <div class="form-floating mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-key-fill"></i></span>
                                    <div class="form-floating flex-grow-1">
                                        <input type="text" class="form-control border-start-0" id="apiKeyInput"
                                            placeholder="Enter your API key" />
                                        <label for="apiKeyInput">API Key</label>
                                    </div>
                                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="tooltip"
                                        data-bs-placement="top" title="Provided by Zenith Payments">
                                        <i class="bi bi-info-circle"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Username -->
                            <div class="form-floating mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                                    <div class="form-floating flex-grow-1">
                                        <input type="text" class="form-control border-start-0" id="usernameInput"
                                            placeholder="Enter your username" />
                                        <label for="usernameInput">Username</label>
                                    </div>
                                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="tooltip"
                                        data-bs-placement="top" title="Provided by Zenith Payments">
                                        <i class="bi bi-info-circle"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Password -->
                            <div class="form-floating mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
                                    <div class="form-floating flex-grow-1">
                                        <input type="text" class="form-control border-start-0" id="passwordInput"
                                            placeholder="Enter your password" />
                                        <label for="passwordInput">Password</label>
                                    </div>
                                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="tooltip"
                                        data-bs-placement="top" title="Provided by Zenith Payments">
                                        <i class="bi bi-info-circle"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Merchant Code -->
                            <div class="form-floating mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-building"></i></span>
                                    <div class="form-floating flex-grow-1">
                                        <input type="text" class="form-control border-start-0" id="merchantCodeInput"
                                            placeholder="Enter your merchant code" />
                                        <label for="merchantCodeInput">Merchant Code</label>
                                    </div>
                                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="tooltip"
                                        data-bs-placement="top" title="Provided by Zenith Payments">
                                        <i class="bi bi-info-circle"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Payment Amount -->
                            <div class="form-floating mb-3">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="bi bi-currency-dollar"></i></span>
                                    <div class="form-floating flex-grow-1">
                                        <input type="number" step="0.01" class="form-control border-start-0"
                                            id="paymentAmountInput" placeholder="Payment Amount" />
                                        <label for="paymentAmountInput">Payment Amount</label>
                                    </div>
                                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="tooltip"
                                        data-bs-placement="top" title="Amount to be processed (e.g., 100.00)">
                                        <i class="bi bi-info-circle"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Extended Options Tab -->
                        <div class="tab-pane fade" id="extended" role="tabpanel" aria-labelledby="extended-tab">
                            <div id="extendedOptionsFields" class="extended-options-fields">
                                <!-- Redirect URL -->
                                <div class="form-floating mb-2">
                                    <input type="text" class="form-control form-control-sm" id="redirectUrlInput"
                                        placeholder="https://payuat.travelpay.com.au/demo/"
                                        value="https://payuat.travelpay.com.au/demo/" />
                                    <label for="redirectUrlInput">Redirect URL</label>
                                </div>

                                <!-- Callback URL -->
                                <div class="form-floating mb-2">
                                    <input type="text" class="form-control form-control-sm" id="callbackUrlInput"
                                        placeholder="Callback URL" />
                                    <label for="callbackUrlInput">Callback URL</label>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <!-- Customer Name -->
                                        <div class="form-floating mb-2">
                                            <input type="text" class="form-control form-control-sm"
                                                id="customerNameInput" placeholder="Customer Name" value="Test User" />
                                            <label for="customerNameInput">Customer Name</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <!-- Contact Number -->
                                        <div class="form-floating mb-2">
                                            <input type="tel" class="form-control form-control-sm"
                                                id="contactNumberInput" placeholder="Contact Number" pattern="[0-9]*"
                                                inputmode="numeric"
                                                oninput="this.value = this.value.replace(/[^0-9]/g, '')" />
                                            <label for="contactNumberInput">Contact Number</label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Email -->
                                <div class="form-floating mb-2">
                                    <input type="email" class="form-control form-control-sm" id="customerEmailInput"
                                        placeholder="Customer Email" value="test@zenpay.com.au" />
                                    <label for="customerEmailInput">Customer Email</label>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <!-- Customer Reference -->
                                        <div class="form-floating mb-2">
                                            <input type="text" class="form-control form-control-sm"
                                                id="customerReferenceInput" placeholder="Customer Reference" />
                                            <label for="customerReferenceInput">Customer Reference</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <!-- Merchant Unique Payment ID -->
                                        <div class="form-floating mb-2">
                                            <input type="text" class="form-control form-control-sm"
                                                id="merchantUniquePaymentIdInput"
                                                placeholder="Merchant Unique Payment ID" />
                                            <label for="merchantUniquePaymentIdInput">Merchant Payment ID</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Methods Tab -->
                        <div class="tab-pane fade" id="payment-methods" role="tabpanel"
                            aria-labelledby="payment-methods-tab">
                            <h6 class="mb-2 small">
                                <i class="bi bi-credit-card-2-front me-1"></i>Payment Methods
                            </h6>

                            <div class="payment-method-grid">
                                <!-- Bank Account -->
                                <div class="payment-method-card" data-option="allowBankAcOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Enable/Disable Bank Account payments">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowBankAcOneOffPayment" data-option="allowBankAcOneOffPayment" />
                                    <label for="allowBankAcOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-bank"></i>
                                        </div>
                                        <div class="payment-method-name">Bank</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- PayTo -->
                                <div class="payment-method-card" data-option="allowPayToOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Enable/Disable PayTo payments">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowPayToOneOffPayment" data-option="allowPayToOneOffPayment" />
                                    <label for="allowPayToOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-credit-card"></i>
                                        </div>
                                        <div class="payment-method-name">PayTo</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- PayID -->
                                <div class="payment-method-card" data-option="allowPayIdOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Enable/Disable PayID payments">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowPayIdOneOffPayment" data-option="allowPayIdOneOffPayment" />
                                    <label for="allowPayIdOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-qr-code"></i>
                                        </div>
                                        <div class="payment-method-name">PayID</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- Apple Pay -->
                                <div class="payment-method-card" data-option="allowApplePayOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="Enable/Disable Apple Pay">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowApplePayOneOffPayment" data-option="allowApplePayOneOffPayment" />
                                    <label for="allowApplePayOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-apple"></i>
                                        </div>
                                        <div class="payment-method-name">Apple</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- Google Pay -->
                                <div class="payment-method-card" data-option="allowGooglePayOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top" title="Enable/Disable Google Pay">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowGooglePayOneOffPayment" data-option="allowGooglePayOneOffPayment" />
                                    <label for="allowGooglePayOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-google"></i>
                                        </div>
                                        <div class="payment-method-name">Google</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- Latitude Pay -->
                                <div class="payment-method-card" data-option="allowLatitudePayOneOffPayment"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Enable/Disable LatitudePay payments">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowLatitudePayOneOffPayment"
                                        data-option="allowLatitudePayOneOffPayment" />
                                    <label for="allowLatitudePayOneOffPayment" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-credit-card-2-front"></i>
                                        </div>
                                        <div class="payment-method-name">Latitude</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>

                                <!-- Save Card Option -->
                                <div class="payment-method-card" data-option="allowSaveCardUserOption"
                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Enable/Disable Save Card option for users">
                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                        id="allowSaveCardUserOption" data-option="allowSaveCardUserOption" />
                                    <label for="allowSaveCardUserOption" class="payment-method-label">
                                        <div class="payment-method-icon">
                                            <i class="bi bi-save"></i>
                                        </div>
                                        <div class="payment-method-name">Save</div>
                                        <div class="payment-method-status">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Options Tab -->
                        <div class="tab-pane fade" id="additional-options" role="tabpanel"
                            aria-labelledby="additional-options-tab">
                            <div class="options-container">
                                <!-- Row 1: Notifications | UI Options -->
                                <div class="row mb-3">
                                    <!-- Notifications (col 1) -->
                                    <div class="col-md-6">
                                        <div class="options-section">
                                            <h6 class="mb-2 small"><i class="bi bi-bell me-1"></i>Notifications</h6>
                                            <div class="payment-method-grid">
                                                <!-- Send Email to Customer -->
                                                <div class="payment-method-card"
                                                    data-option="sendConfirmationEmailToCustomer"
                                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                                    title="Send a confirmation email to the customer after payment">
                                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                        id="sendConfirmationEmailToCustomer"
                                                        data-option="sendConfirmationEmailToCustomer" />
                                                    <label for="sendConfirmationEmailToCustomer"
                                                        class="payment-method-label">
                                                        <div class="payment-method-icon">
                                                            <i class="bi bi-envelope"></i>
                                                        </div>
                                                        <div class="payment-method-name">Email Customer</div>
                                                        <div class="payment-method-status">
                                                            <i class="bi bi-check-circle-fill"></i>
                                                        </div>
                                                    </label>
                                                </div>

                                                <!-- Send Email to Merchant -->
                                                <div class="payment-method-card"
                                                    data-option="sendConfirmationEmailToMerchant"
                                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                                    title="Send a confirmation email to the merchant after payment">
                                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                        id="sendConfirmationEmailToMerchant"
                                                        data-option="sendConfirmationEmailToMerchant" />
                                                    <label for="sendConfirmationEmailToMerchant"
                                                        class="payment-method-label">
                                                        <div class="payment-method-icon">
                                                            <i class="bi bi-envelope-fill"></i>
                                                        </div>
                                                        <div class="payment-method-name">Email Merchant</div>
                                                        <div class="payment-method-status">
                                                            <i class="bi bi-check-circle-fill"></i>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- UI Options (col 2) -->
                                    <div class="col-md-6">
                                        <div class="options-section">
                                            <h6 class="mb-2 small"><i class="bi bi-display me-1"></i>UI Options</h6>
                                            <div class="payment-method-grid">
                                                <!-- Hide Terms and Conditions -->
                                                <div class="payment-method-card" data-option="hideTermsAndConditions"
                                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                                    title="Hide the terms and conditions section in the payment UI">
                                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                        id="hideTermsAndConditions"
                                                        data-option="hideTermsAndConditions" />
                                                    <label for="hideTermsAndConditions" class="payment-method-label">
                                                        <div class="payment-method-icon">
                                                            <i class="bi bi-file-earmark-text"></i>
                                                        </div>
                                                        <div class="payment-method-name">Hide Terms</div>
                                                        <div class="payment-method-status">
                                                            <i class="bi bi-check-circle-fill"></i>
                                                        </div>
                                                    </label>
                                                </div>

                                                <!-- Hide Merchant Logo -->
                                                <div class="payment-method-card" data-option="hideMerchantLogo"
                                                    data-bs-toggle="tooltip" data-bs-placement="top"
                                                    title="Hide the merchant logo in the payment UI">
                                                    <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                        id="hideMerchantLogo" data-option="hideMerchantLogo" />
                                                    <label for="hideMerchantLogo" class="payment-method-label">
                                                        <div class="payment-method-icon">
                                                            <i class="bi bi-image"></i>
                                                        </div>
                                                        <div class="payment-method-name">Hide Logo</div>
                                                        <div class="payment-method-status">
                                                            <i class="bi bi-check-circle-fill"></i>
                                                        </div>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Row 2: User Mode | Override Fee Payer -->
                                <div class="row mb-3">
                                    <!-- User Mode (col 1) -->
                                    <div class="col-md-6">
                                        <div class="options-section">
                                            <h6 class="mb-2 small"><i class="bi bi-person me-1"></i>User Mode</h6>
                                            <div class="segmented-buttons" data-bs-toggle="tooltip"
                                                data-bs-placement="top" title="Select user mode: Customer or Merchant">
                                                <div class="segmented-buttons-slider"></div>
                                                <div class="option-chip">
                                                    <input type="radio" class="option-toggle visually-hidden"
                                                        name="userMode" id="selectUserModeCustomer"
                                                        data-option="userMode" value="0" checked />
                                                    <label for="selectUserModeCustomer" class="option-label">
                                                        Customer
                                                    </label>
                                                </div>
                                                <div class="option-chip">
                                                    <input type="radio" class="option-toggle visually-hidden"
                                                        name="userMode" id="selectUserModeMerchant"
                                                        data-option="userMode" value="1" />
                                                    <label for="selectUserModeMerchant" class="option-label">
                                                        Merchant
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Override Fee Payer (col 2) -->
                                    <div class="col-md-6">
                                        <div class="options-section">
                                            <h6 class="mb-2 small">
                                                <i class="bi bi-currency-dollar me-1"></i>Override Fee Payer
                                            </h6>
                                            <div class="segmented-buttons" data-bs-toggle="tooltip"
                                                data-bs-placement="top"
                                                title="Override who pays the fee: Default, Customer, or Merchant">
                                                <div class="segmented-buttons-slider"></div>
                                                <div class="option-chip">
                                                    <input type="radio" class="option-toggle visually-hidden"
                                                        name="overrideFeePayer" id="overrideFeePayerDefault"
                                                        data-option="overrideFeePayer" value="0" checked />
                                                    <label for="overrideFeePayerDefault" class="option-label">
                                                        Default
                                                    </label>
                                                </div>
                                                <div class="option-chip">
                                                    <input type="radio" class="option-toggle visually-hidden"
                                                        name="overrideFeePayer" id="overrideFeePayerCustomer"
                                                        data-option="overrideFeePayer" value="1" />
                                                    <label for="overrideFeePayerCustomer" class="option-label">
                                                        Customer
                                                    </label>
                                                </div>
                                                <div class="option-chip">
                                                    <input type="radio" class="option-toggle visually-hidden"
                                                        name="overrideFeePayer" id="overrideFeePayerMerchant"
                                                        data-option="overrideFeePayer" value="2" />
                                                    <label for="overrideFeePayerMerchant" class="option-label">
                                                        Merchant
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Row 3: Min Height Input -->
                                <div class="form-floating mb-3" data-bs-toggle="tooltip" data-bs-placement="top"
                                    title="Set the minimum height of the payment plugin iframe">
                                    <input type="number" class="form-control form-control-sm" id="minHeightInput"
                                        placeholder="Min Height" min="300" max="2000" step="1" inputmode="numeric"
                                        oninput="this.value = this.value.replace(/[^0-9]/g, '')" />
                                    <label for="minHeightInput">Min Height (px)</label>
                                </div>

                                <!-- Tokenization-specific options (only visible when mode is 1) -->
                                <div id="tokenizationOptions" class="options-section d-none">
                                    <h6 class="mb-2 small">
                                        <i class="bi bi-credit-card-2-front me-1"></i>Tokenization Options
                                    </h6>
                                    <div class="payment-method-grid">
                                        <!-- Show Fee on Tokenising -->
                                        <div class="payment-method-card" data-option="showFeeOnTokenising"
                                            data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Show fee details during tokenization process (Tokenization Mode only)">
                                            <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                id="showFeeOnTokenising" data-option="showFeeOnTokenising" />
                                            <label for="showFeeOnTokenising" class="payment-method-label">
                                                <div class="payment-method-icon">
                                                    <i class="bi bi-cash"></i>
                                                </div>
                                                <div class="payment-method-name">Show Fee</div>
                                                <div class="payment-method-status">
                                                    <i class="bi bi-check-circle-fill"></i>
                                                </div>
                                            </label>
                                        </div>

                                        <!-- Show Failed Payment Fee -->
                                        <div class="payment-method-card" data-option="showFailedPaymentFeeOnTokenising"
                                            data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Show fee details for failed payments during tokenization (Tokenization Mode only)">
                                            <input type="checkbox" class="payment-method-toggle visually-hidden"
                                                id="showFailedPaymentFeeOnTokenising"
                                                data-option="showFailedPaymentFeeOnTokenising" />
                                            <label for="showFailedPaymentFeeOnTokenising"
                                                class="payment-method-label"></label>
                                            <div class="payment-method-icon">
                                                <i class="bi bi-exclamation-triangle"></i>
                                            </div>
                                            <div class="payment-method-name">Show Failed Fee</div>
                                            <div class="payment-method-status">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr />
                    <!-- Wrapper for Bootstrap tooltip on disabled button
                    <span class="d-inline-block w-100" tabindex="0" data-bs-toggle="tooltip" data-bs-placement="top"
                        title="">
                        <button id="initializePlugin" class="btn btn-primary w-100" type="button">
                            <i class="bi bi-play-fill me-2"></i>Initialize Plugin
                        </button> -->

                    <div class="d-grid gap-2 mt-auto">
                        <button id="initializePlugin" class="btn btn-primary w-100" type="button"
                            data-bs-toggle="tooltip" data-bs-placement="top"
                            title="Please fill in API Key, Username, Password, and Merchant Code to initialize plugin.">
                            <i class="bi bi-play-fill me-2"></i>Initialize Plugin
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Column: Code Preview -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0"><i class="bi bi-code-slash me-2"></i>Code Preview</h5>
                    <div class="btn-group" role="group">
                        <button class="copy-btn-icon" id="copyCodeBtn" title="Copy Code to Clipboard"
                            aria-label="Copy code to clipboard" data-bs-toggle="tooltip" data-bs-placement="top">
                            <i class="bi bi-clipboard"></i>
                        </button>
                        <button class="download-btn-icon" id="downloadDemoBtn" title="Download Demo"
                            aria-label="Download demo" data-bs-toggle="tooltip" data-bs-placement="top" hidden>
                            <i class="bi bi-download"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <pre><code id="codePreview" class="language-js ">
                </code></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- URL Builder Modal -->
    <div class="modal fade" id="urlBuilderModal" tabindex="-1" aria-labelledby="urlBuilderModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="urlBuilderModalLabel">Configure API Endpoint</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Subdomain Selector -->
                    <div class="mb-3">
                        <label class="form-label">Subdomain</label>
                        <div class="btn-group w-100" role="group" aria-label="Subdomain selector">
                            <input type="radio" class="btn-check" name="subdomain" id="subdomain-payuat" value="payuat"
                                checked />
                            <label class="btn btn-outline-primary" for="subdomain-payuat">payuat</label>
                            <input type="radio" class="btn-check" name="subdomain" id="subdomain-pay" value="pay" />
                            <label class="btn btn-outline-primary" for="subdomain-pay">pay</label>
                        </div>
                    </div>

                    <!-- Domain Selector -->
                    <div class="mb-3">
                        <label class="form-label">Domain</label>
                        <select class="form-select" id="domainSelect">
                            <option value="travelpay" selected>travelpay</option>
                            <option value="rentalrewards">rentalrewards</option>
                            <option value="b2bpay">b2bpay</option>
                            <option value="childcareeasypay">childcareeasypay</option>
                            <option value="schooleasypay">schooleasypay</option>
                            <option value="thoroughbredpayments">thoroughbredpayments</option>
                        </select>
                    </div>

                    <!-- Version Selector -->
                    <div class="mb-3">
                        <label class="form-label">API Version</label>
                        <div class="btn-group w-100" role="group" aria-label="Version selector">
                            <input type="radio" class="btn-check" name="version" id="version-v3" value="v3" />
                            <label class="btn btn-outline-primary" for="version-v3">v3</label>
                            <input type="radio" class="btn-check" name="version" id="version-v4" value="v4" />
                            <label class="btn btn-outline-primary" for="version-v4">v4</label>
                            <input type="radio" class="btn-check" name="version" id="version-v5" value="v5" checked />
                            <label class="btn btn-outline-primary" for="version-v5">v5</label>
                        </div>
                    </div>

                    <!-- URL Preview -->
                    <div class="mb-3">
                        <label class="form-label">URL Preview</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="modalUrlPreview"
                                value="https://payuat.travelpay.com.au/online/v5" readonly />
                            <button class="btn btn-outline-secondary" type="button" id="modalCopyUrlBtn"
                                data-bs-toggle="tooltip" data-bs-placement="top" title="Copy URL">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="applyUrlChanges" data-bs-dismiss="modal">
                        Apply
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>